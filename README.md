# CrudoDb

## HINT: not full implemented

typescript written offline first indexeddb wrapper.

is able to sync with backend services by passing optional service implementation.

## crudodb

store list of `Database<T>` instances and manage them.

`schemaKey` is an identifier to the instance of `Database<T>` you want to access.

for example:

```typescript
declare wrapper: CrudoDb;
const key = wrapper.registerDatabase(mySchema);
// key will generated by CrudoDb
const item: T = {key: 'value', id: '1'};
wrapper.create(key, item);
// will call create of the Database<T> instance
```

## database

wrap the `Indexeddb` and manage all operations in CRUD api.

for example:

```typescript
// inside of wrapper.create(key, item)
this.createLocal(item).then(() => this.createRemote(item));
```

store item in indexeddb and on success try to call the api#create.

if no api defined, the item only lives in the indexeddb.

if api defined, the created item will send to api.

on successful creation, the local item will update without creation flag.

### flags

there are 3 flag values to mark a item in indexeddb for processing.

+ C
+ U
+ D

### sync

how to be updated?

1. take all local items and process there flags


## implementation status

- [ ] Database
- [ ] CrudoDb
