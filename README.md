# CrudoDb

[![npm version](https://badgen.net/npm/v/crudodb)](https://badge.fury.io/js/crudodb) [![npm downloads](https://badgen.net/npm/dt/crudodb)](https://badgen.net/npm/dt/crudodb)


Offline-first IndexedDb wrapper written in TypeScript, which is able to sync with backend services by passing optional service implementation.

## Why?

CrudoDb offers some advantages over other solutions as it offers an offline-first and offline-only solution.

An optional API connection and can be synchronized e.g. after an already completed offline implementation.

## crudodb

Store list of `Database<T>` instances and manage them.

`schemaKey` is an identifier to the instance of `Database<T>` you want to access.

For example:

```typescript
const instance = await CrudoDb.setup();

// key will generated by CrudoDb
const key = await instance.registerSchema({
    schema: mySchema
});
const item: T = { key: 'value', id: '1' };

// will call create of the Database<T> instance
instance.create(key, item);
```

## Database

* Manages all CRUD operations against store and optional API.
* Store item in indexeddb and on success try to call the api#create.
* if no API is defined, the item only lives in the IndexedDb.
* if an API is defined, the created item will be sent to the API.
* on successful creation, the local item will update without creation flag

### Flags

There are 3 flags to mark an item in indexeddb for processing.

+ C
+ U
+ D

### Sync with API

by default, no api is required to work with crudodb.



## Recommendations

see [documentation](docs) for angular and react recommendations.
